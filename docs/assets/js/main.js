"use strict";let searchShows=[],favoritesShows=[];const paintCardsShow=()=>{for(let e=0;e<searchShows.length;e++){const t=searchShows[e],o=t.show.name;let s="";s=null===t.show.image?"https://via.placeholder.com/210x295/ffffff/666666/?text=TV":t.show.image.medium;const a=document.createElement("li");a.classList.add("li__card"),a.setAttribute("id",t.show.id);const i=document.createElement("img");i.setAttribute("src",s),i.setAttribute("alt","cartel de la serie");const r=document.createElement("h2"),n=document.createTextNode(o);r.appendChild(n),favoritesShows.find(e=>{e.show.id===t.show.id&&a.classList.add("showList--favorite")}),document.querySelector(".js-showList").appendChild(a),a.appendChild(i),a.appendChild(r)}},selectFavoriteShow=e=>{e.preventDefault();const t=parseInt(e.currentTarget.id);let o=!1;for(const e of favoritesShows)e.show.id===t&&(o=!0);for(const e of searchShows)e.show.id===t&&!1===o&&favoritesShows.push(e);localStorage.setItem("resultFav",JSON.stringify(favoritesShows)),deleteShows(),paintCardsShow(),listenFavoriteShow(),paintListOfFavorites()},listenFavoriteShow=()=>{const e=document.querySelectorAll("li");for(const t of e)t.addEventListener("click",selectFavoriteShow)},deleteShows=()=>{const e=document.querySelectorAll("li");for(const t of e)t.remove()},paintListOfFavorites=()=>{for(const e of favoritesShows){let t="";t=null===e.show.image?"https://via.placeholder.com/210x295/ffffff/666666/?text=TV":e.show.image.medium;const o=e.show.name,s=document.createElement("li"),a=document.createElement("i");a.classList.add("delete--icon"),a.classList.add("fas"),a.classList.add("fa-times-circle");const i=document.createElement("img");i.setAttribute("src",t),i.setAttribute("alt","Imagen de la serie");const r=document.createElement("h3"),n=document.createTextNode(o);r.appendChild(n),s.appendChild(i),s.appendChild(r),s.appendChild(a),document.querySelector(".js-showListFavorties").appendChild(s)}},handledeleteFavorites=e=>{e.preventDefault(),favoritesShows=[],localStorage.setItem("resultFav",JSON.stringify(favoritesShows)),deleteShows(),paintCardsShow(),listenFavoriteShow()},buttonDeleteEl=document.querySelector(".js-button--delete");buttonDeleteEl.addEventListener("click",handledeleteFavorites);const getShowInformation=e=>{e.preventDefault();const t=document.querySelector(".js-userInput").value;fetch(`http://api.tvmaze.com/search/shows?q=${t}`).then(e=>e.json()).then(e=>{searchShows=e,deleteShows(),paintCardsShow(),listenFavoriteShow(),paintListOfFavorites()}).catch(e=>console.log(`Hay un error, ${e}`))},buttonEl=document.querySelector(".js-button");buttonEl.addEventListener("click",getShowInformation);const getDataFromLS=()=>{let e=JSON.parse(localStorage.getItem("resultFav"));null!==e&&(favoritesShows=e,deleteShows(),paintCardsShow(),listenFavoriteShow(),paintListOfFavorites())};getDataFromLS();